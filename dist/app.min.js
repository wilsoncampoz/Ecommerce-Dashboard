!function(){document.cookie="customerID=504311";var a=angular.module("MyDashboard",["ngRoute"]);a.config(function(a,b){b.html5Mode(!0),a.when("/",{templateUrl:"src/assets/app/views/dashboard.html"}).when("/orders",{templateUrl:"src/assets/app/views/orders.html"}).when("/addresses",{templateUrl:"src/assets/app/views/addresses.html"}).when("/info",{templateUrl:"src/assets/app/views/info.html"}).otherwise({redirectTo:"/"})})}(),function(){function a(a){var b=a||{};this.receiverName=b.receiverName||"",this.cep=b.cep||"",this.street=b.street||"",this.noNumber=b.noNumber||!1,this.number=b.number||"",this.complement=b.complement||"",this.neighborhood=b.neighborhood||"",this.city=b.city||"",this.state=b.state||"",this.addressType=b.addressType||"",this.referencePoint=b.referencePoint||"",this.isMainAddress=b.isMainAddress||!1}function b(b){var c=[];return _.forEach(b,function(b){c.push(new a(b))}),c}function c(){return{createAddressItem:a,createAddresses:b}}angular.module("MyDashboard").factory("AddressFactory",c)}(),function(){function a(){return{states:[{label:"Acre",id:"AC"},{label:"Alagoas",id:"AL"},{label:"Amapá",id:"AP"},{label:"Amazonas",id:"AM"},{label:"Bahia",id:"BA"},{label:"Ceará",id:"CE"},{label:"Distrito Federal",id:"DF"},{label:"Espiríto Santo",id:"ES"},{label:"Goiás",id:"GO"},{label:"Maranhão",id:"MA"},{label:"Mato Grosso",id:"MT"},{label:"Mato Grosso do Sul",id:"MS"},{label:"Minas Gerais",id:"MG"},{label:"Pará",id:"PA"},{label:"Paraíba",id:"PB"},{label:"Pernambuco",id:"PE"},{label:"Piauí",id:"PI"},{label:"Rio de Janeiro",id:"RJ"},{label:"Rio Grande do Norte",id:"RN"},{label:"Rio Grande do Sul",id:"RS"},{label:"Rondônia",id:"RO"},{label:"Roraima",id:"RR"},{label:"Santa Catarina",id:"SC"},{label:"São Paulo",id:"SP"},{label:"Sergipe",id:"SE"},{label:"Tocantins",id:"TO"}],addressType:[{label:"Residencial",id:0},{label:"Comercial",id:1}]}}angular.module("MyDashboard").factory("commonData",[a])}(),function(){function a(a){var b=a||{};this.name=b.name||"",this.cpf=b.cpf||"",this.telephone=b.telephone||"",this.email=b.email||"",this.gender=b.gender||"",this.birthDate=b.birthDate||"",this.newPassword="",this.confirmNewPassword="",this.wantNewsletter=b.wantNewsletter||!1}function b(){return{createCustomer:a}}angular.module("MyDashboard").factory("CustomerFactory",b)}(),function(){function a(a,b,c,d,e){function f(a){return{info:new e.createCustomer(a.info),addresses:new d.createAddresses(a.addresses),orders:a.orders}}var g=void 0;this.saveData=function(d){var e=c.defer();return a({url:"http://localhost:4000/users/504311",method:"PUT",data:JSON.stringify(d)}).then(function(a){b(function(){e.resolve(a)},1500)}),e.promise},this.getCustomerInfo=function(){var d=c.defer();return a({url:"http://localhost:4000/users/504311",method:"GET",cache:!0}).then(function(a){b(function(){g=f(a.data),d.resolve(g)},1500)}),d.promise}}angular.module("MyDashboard").service("DashboardService",["$http","$timeout","$q","AddressFactory","CustomerFactory",a])}(),function(){function a(a,b,c,d){a.loadingCustomerInfo=!0,a.settings={lockedForm:!0},c.getCustomerInfo().then(function(b){a.customer=b,a.info=a.customer.info,a.orders=a.customer.orders,a.addresses=a.customer.addresses,a.loadingCustomerInfo=!1}),a.routeManager=function(a){b.path(a)},a.addNewAddress=function(){a.newAddress=new d.createAddressItem},a.saveNewAddress=function(){a.addresses.push(a.newAddress),a.newAddress=void 0,a.saveData()},a.removeAddress=function(b){a.addresses.splice(b,1),a.saveData()},a.cancelNewAddress=function(){a.newAddress=void 0},a.saveData=function(){a.loadingCustomerInfo=!0,c.saveData(a.customer).then(function(){a.loadingCustomerInfo=!1})},a.partials={info:"src/assets/app/partials/info-partial.html",address:"src/assets/app/partials/address-partial.html",order:"src/assets/app/partials/order-partial.html"}}angular.module("MyDashboard").controller("MainController",["$scope","$location","DashboardService","AddressFactory",a])}(),function(){angular.module("MyDashboard").directive("loader",[function(){return{restrict:"A",link:function(a,b,c){a.$watch(c.loader,function(){a.$eval(c.loader)?$(b).append('<div class="loader">'):$(b).find(".loader").fadeOut("slow",function(){$(this).remove()})})}}}])}();